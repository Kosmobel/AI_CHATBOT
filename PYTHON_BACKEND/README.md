
# üß† Educational Chatbot ‚Äî Python Backend

–ë—ç–∫–µ–Ω–¥-—Å–µ—Ä–≤–∏—Å –ø—Ä–æ–µ–∫—Ç–∞ **Educational Chatbot**, –≤–∫–ª—é—á–∞—é—â–∏–π:

- **LLM-—Å–µ—Ä–≤–∏—Å** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ª–æ–∫–∞–ª—å–Ω—ã—Ö —è–∑—ã–∫–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π (LLM) —Ñ–æ—Ä–º–∞—Ç–∞ `.gguf` –Ω–∞ –±–∞–∑–µ `llama-cpp-python`.
- **Voice-—Å–µ—Ä–≤–∏—Å** ‚Äî —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ —Å –ø–æ–º–æ—â—å—é Whisper, —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `ffmpeg`.

> ‚ö†Ô∏è –ü—Ä–æ–µ–∫—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ Python **3.11.9**. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º–µ–Ω–Ω–æ —ç—Ç—É –≤–µ—Ä—Å–∏—é.


---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç setup.ps1. –ï—Å–ª–∏ –æ–Ω –Ω–µ —Å–ø—Ä–∞–≤–∏—Ç—å—Å—è - —Å–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Å—Ä–µ–¥—É –≤ –ø–∞–ø–∫–µ –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

### LLM_SERVICE - —Ä—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```powershell
cd LLM_SERVICE
python -m venv venv
venv\Scripts\Activate.ps1
pip install -r requirements.txt
```

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **GPU (CUDA)** –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è LLM:

```powershell
$env:CMAKE_ARGS="-DGGML_CUDA=on -DGGML_CUDA_FORCE_CUBLAS=on -DLLAVA_BUILD=off -DCMAKE_CUDA_ARCHITECTURES=native"
$env:FORCE_CMAKE="1"
pip install llama-cpp-python --no-cache-dir --force-reinstall --upgrade
```

–ï—Å–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —ç—Ç—É –∫–æ–º–∞–Ω–¥—É, `llama-cpp-python` –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CPU (–º–µ–¥–ª–µ–Ω–Ω–µ–µ).

–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ü–ö, –±–∏–ª–¥ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –º–æ–∂–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å –¥–æ 40 –º–∏–Ω—É—Ç. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ –±–∏–Ω–∞—Ä–Ω—ã–µ –∫–æ–ª–µ—Å–∞, –ø–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. https://pypi.org/project/llama-cpp-python/

### VOICE_SERVICE - —Ä—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```powershell
cd VOICE_SERVICE
python -m venv venv
venv\Scripts\Activate.ps1
pip install -r requirements.txt
```

---

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- Python 3.11.9
- `llama-cpp-python` (LLM)
- `openai-whisper`
- `ffmpeg` (—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è Voice-—Å–µ—Ä–≤–∏—Å–∞)

–û—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ñ–∞–π–ª–∞—Ö requirements.txt —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.

---

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ `ffmpeg`

1. –°–∫–∞—á–∞–π—Ç–µ `ffmpeg` —Å https://ffmpeg.org/download.html
2. –†–∞–∑–∞—Ä—Ö–∏–≤–∏—Ä—É–π—Ç–µ
3. –î–æ–±–∞–≤—å—Ç–µ –ø—É—Ç—å –¥–æ `ffmpeg.exe` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `PATH`
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç:

```powershell
ffmpeg -version
```

---

## üìÑ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ .env

### üìç LLM_SERVICE/.env

```dotenv
# –û—Å–Ω–æ–≤–Ω–æ–π –ø—É—Ç—å –∫ –º–æ–¥–µ–ª–∏
MODEL_PATH=0

# –ü—É—Ç–∏ –∫ –º–æ–¥–µ–ª—è–º (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è .gguf)
MODEL_PATH_LLAMA=D:\Lmstudio\models\LM Studio Community\Meta-Llama-3-8B-Instruct-GGUF\Meta-Llama-3-8B-Instruct-Q4_K_M.gguf
MODEL_PATH_DEEPSEEK_1=D:\Lmstudio\models\lmstudio-community\DeepSeek-R1-0528-Qwen3-8B-GGUF\DeepSeek-R1-0528-Qwen3-8B-Q4_K_M.gguf
MODEL_PATH_DEEPSEEK_2=D:\Lmstudio\models\bartowski\DeepSeek-R1-Distill-Qwen-32B-GGUF\DeepSeek-R1-Distill-Qwen-32B-IQ2_XXS.gguf

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –º–æ–¥–µ–ª–∏
MODEL_N_CTX=8192 # –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –æ–∫–Ω–æ –º–æ–¥–µ–ª–∏, –ø–ª–∞–≤–∞–µ—Ç –æ—Ç –º–æ–¥–µ–ª–∏ –∫ –º–æ–¥–µ–ª–∏
MODEL_GPU_LAYERS=64 # —á–∏—Å–ª–æ —Å–ª–æ–µ–≤, –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –Ω–∞ GPU (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CUDA)
MODEL_THREADS=4
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏, –æ–¥–Ω–∞–∫–æ –ø—Ä–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–ª—é–±—ã–µ .gguf –º–æ–¥–µ–ª–∏**.

---

### üéô VOICE_SERVICE/.env

```dotenv
# –ü—É—Ç—å –¥–æ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ ffmpeg
FFMPEG_PATH=D:\ffmpeg\bin\ffmpeg.exe
```

---

## üöÄ –ó–∞–ø—É—Å–∫


### LLM-—Å–µ—Ä–≤–∏—Å:

–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å start.ps1

### Voice-—Å–µ—Ä–≤–∏—Å:

–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å start.ps1

---

## ‚úÖ –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- Whisper –Ω–µ —Å–º–æ–∂–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å WebM/OGG/MP3 –±–µ–∑ `ffmpeg`.
- –î–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ LLM-–º–æ–¥–µ–ª–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è **—É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CUDA**.
- –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –¥–æ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤.
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ `.env` —Ñ–∞–π–ª—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

---

## üì¨ –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

–°–≤—è–∂–∏—Ç–µ—Å—å —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º (–µ—Å–ª–∏ –ø–æ–ª—É—á–∏—Ç—Å—è). –í –∞—Ä—Ö–∏–≤–µ —Å —Ñ–∞–π–ª–∞–º–∏ –ª–µ–∂–∏—Ç –≤–∏–¥–µ–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è, –Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ –≤–æ –≤—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏.
